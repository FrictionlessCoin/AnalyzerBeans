<?xml version="1.0" encoding="UTF-8"?>
<job xmlns="http://eobjects.org/analyzerbeans/job/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

	<source>
		<data-context ref="my database" />
		<columns>
			<column id="col_name" path="name" />
		</columns>
	</source>

	<filtering>
		<filter>
			<descriptor ref="Not null" />
			<input ref="col_name" />
			<outcome id="col_name_not_null" category="VALID" />
		</filter>

		<filter requires="col_name_not_null">
			<descriptor ref="Single word" />
			<input ref="col_name" />
			<outcome id="col_name_single_string" category="VALID" />
			<outcome id="col_name_multi_string" category="INVALID" />
		</filter>
	</filtering>

	<transformation>
		<transformer requires="col_name_multi_string">
			<descriptor ref="Name standardizer" />
			<input ref="col_name" />
			<output id="col_firstname" />
			<output id="col_lastname" />
			<output id="col_middlename" />
			<output id="col_titulation" />
		</transformer>

		<transformer requires="[col_name_single_string,col_name_multi_string]">
			<descriptor ref="Coalesce strings" />
			<!-- TODO: Figure out how the flow can continue even though col_firstname 
				may not have been generated for "col_name_single_string" outcomes -->
			<input ref="col_firstname" />
			<input ref="col_name" />
			<output id="col_single_name_token" />
		</transformer>
	</transformation>

	<analysis>
		<analyzer>
			<descriptor ref="Pattern finder" />
			<input ref="col_single_name_token" />
		</analyzer>
	</analysis>

</job>